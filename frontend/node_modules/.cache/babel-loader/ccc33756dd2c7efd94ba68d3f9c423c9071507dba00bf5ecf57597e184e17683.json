{"ast":null,"code":"import _objectSpread from\"S:/INKREC/lorcana_ai/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useState}from'react';import'./DeckAnalyzer.css';import DeckComparison from'./components/DeckComparison';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=process.env.REACT_APP_API_URL||'http://localhost:3002';// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n// VERS√ÉO LIMPA E BONITA - SEM DEBUG\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n// ‚îÄ‚îÄ Process curveCounts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nfunction processCurveCounts(curveCounts){if(!curveCounts||typeof curveCounts!=='object'){return null;}const inkCurve={};for(let i=0;i<=10;i++){inkCurve[i]={count:0};}let totalCount=0;let earlyGameCount=0;for(const[key,value]of Object.entries(curveCounts)){const count=Number(value)||0;const bucket=key==='10+'?10:Math.max(0,Math.min(10,Number(key)));inkCurve[bucket].count+=count;totalCount+=count;if(bucket<=2){earlyGameCount+=count;}}// Calculate avg cost\nlet totalCost=0;for(let i=0;i<=10;i++){totalCost+=i*inkCurve[i].count;}const avgCost=totalCount>0?(totalCost/totalCount).toFixed(2):'0';const earlyGamePct=totalCount>0?(earlyGameCount/totalCount*100).toFixed(1):'0';return{inkCurve,avgCost,earlyGamePct,earlyGameCount,totalCount};}// ‚îÄ‚îÄ InkCurveChart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nfunction InkCurveChart(_ref){let{inkCurve}=_ref;const maxCount=Math.max(...Object.values(inkCurve).map(v=>v.count),1);return/*#__PURE__*/_jsx(\"div\",{className:\"ink-curve-chart\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ink-curve-bars\",children:Object.entries(inkCurve).map(_ref2=>{let[bucket,data]=_ref2;const count=data.count;const height=count/maxCount*100;const label=bucket==='10'?'10+':bucket;return/*#__PURE__*/_jsxs(\"div\",{className:\"ink-curve-bar-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ink-curve-bar\",style:{height:\"\".concat(Math.max(height,2),\"%\"),minHeight:count>0?'20px':'4px',background:'linear-gradient(180deg, #7c3aed 0%, #8b5cf6 100%)'},title:\"\".concat(label,\" ink: \").concat(count,\" cards\"),children:count>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ink-curve-bar-value\",children:count})}),/*#__PURE__*/_jsx(\"div\",{className:\"ink-curve-label\",children:label})]},bucket);})})});}// ‚îÄ‚îÄ Main Component ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nexport default function DeckAnalyzerTab(_ref3){let{deckText,setDeckText}=_ref3;const[loading,setLoading]=useState(false);const[err,setErr]=useState('');const[analysis,setAnalysis]=useState(null);const[opts,setOpts]=useState({compare:true,top:32});const lines=useMemo(()=>{return String(deckText||'').split(/\\r?\\n/).filter(l=>l.trim().length).length;},[deckText]);// Process curveCounts from analysis\nconst curveStats=useMemo(()=>{if(!analysis||!analysis.curveCounts){return null;}return processCurveCounts(analysis.curveCounts);},[analysis]);async function run(){setErr('');setLoading(true);try{const res=await fetch(\"\".concat(API,\"/api/deck/analyze\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({decklist:deckText},opts))});const data=await res.json();if(!res.ok)throw new Error(data.error||\"HTTP \".concat(res.status));setAnalysis(data);}catch(e){setErr(e.message);}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCCB\"}),\" Decklist\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-gray\",children:[lines,\" linhas\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controls-row\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:opts.compare,onChange:e=>setOpts(o=>_objectSpread(_objectSpread({},o),{},{compare:e.target.checked}))}),\"Comparar meta\"]})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"decklist-area\",value:deckText,onChange:e=>setDeckText(e.target.value),placeholder:\"4 Nome da Carta\\n4 Outra Carta\\n...\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:run,disabled:loading,children:loading?'‚è≥ Analisando‚Ä¶':'‚ö° Analisar Deck'}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"err-box\",children:err})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-4\",children:!analysis?/*#__PURE__*/_jsx(\"div\",{className:\"panel\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83C\\uDCCF\"}),\"Cole sua decklist e clique em Analisar\"]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-header\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCCA\"}),\" Resumo\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stat-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Arqu\\xE9tipo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",style:{fontSize:14},children:analysis.archetype||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Cartas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:analysis.totalCards})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Inkable\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[analysis.inkablePct,\"%\"]})]})]})})]}),curveStats&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCCA\"}),\" Curva de Mana\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge badge-gray\",children:[\"M\\xE9dia: \",curveStats.avgCost]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-body\",children:/*#__PURE__*/_jsx(InkCurveChart,{inkCurve:curveStats.inkCurve})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-header\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"panel-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCC8\"}),\" Estat\\xEDsticas\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"panel-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:curveStats.avgCost}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Custo M\\xE9dio\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\u26A1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[curveStats.earlyGamePct,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Early Game\"})]})]})]})})]})]}),analysis&&analysis.cards&&/*#__PURE__*/_jsx(DeckComparison,{analysis:analysis})]})})]});}","map":{"version":3,"names":["React","useMemo","useState","DeckComparison","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","process","env","REACT_APP_API_URL","processCurveCounts","curveCounts","inkCurve","i","count","totalCount","earlyGameCount","key","value","Object","entries","Number","bucket","Math","max","min","totalCost","avgCost","toFixed","earlyGamePct","InkCurveChart","_ref","maxCount","values","map","v","className","children","_ref2","data","height","label","style","concat","minHeight","background","title","DeckAnalyzerTab","_ref3","deckText","setDeckText","loading","setLoading","err","setErr","analysis","setAnalysis","opts","setOpts","compare","top","lines","String","split","filter","l","trim","length","curveStats","run","res","fetch","method","headers","body","JSON","stringify","_objectSpread","decklist","json","ok","Error","error","status","e","message","type","checked","onChange","o","target","placeholder","onClick","disabled","fontSize","archetype","totalCards","inkablePct","cards"],"sources":["S:/INKREC/lorcana_ai/frontend/src/DeckAnalyzer.jsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\nimport './DeckAnalyzer.css';\nimport DeckComparison from './components/DeckComparison';\n\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:3002';\n\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n// VERS√ÉO LIMPA E BONITA - SEM DEBUG\n// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n// ‚îÄ‚îÄ Process curveCounts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\nfunction processCurveCounts(curveCounts) {\n  if (!curveCounts || typeof curveCounts !== 'object') {\n    return null;\n  }\n\n  const inkCurve = {};\n  for (let i = 0; i <= 10; i++) {\n    inkCurve[i] = { count: 0 };\n  }\n\n  let totalCount = 0;\n  let earlyGameCount = 0;\n\n  for (const [key, value] of Object.entries(curveCounts)) {\n    const count = Number(value) || 0;\n    const bucket = key === '10+' ? 10 : Math.max(0, Math.min(10, Number(key)));\n    \n    inkCurve[bucket].count += count;\n    totalCount += count;\n    \n    if (bucket <= 2) {\n      earlyGameCount += count;\n    }\n  }\n\n  // Calculate avg cost\n  let totalCost = 0;\n  for (let i = 0; i <= 10; i++) {\n    totalCost += i * inkCurve[i].count;\n  }\n  \n  const avgCost = totalCount > 0 ? (totalCost / totalCount).toFixed(2) : '0';\n  const earlyGamePct = totalCount > 0 ? ((earlyGameCount / totalCount) * 100).toFixed(1) : '0';\n\n  return {\n    inkCurve,\n    avgCost,\n    earlyGamePct,\n    earlyGameCount,\n    totalCount,\n  };\n}\n\n// ‚îÄ‚îÄ InkCurveChart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\nfunction InkCurveChart({ inkCurve }) {\n  const maxCount = Math.max(...Object.values(inkCurve).map(v => v.count), 1);\n\n  return (\n    <div className=\"ink-curve-chart\">\n      <div className=\"ink-curve-bars\">\n        {Object.entries(inkCurve).map(([bucket, data]) => {\n          const count = data.count;\n          const height = (count / maxCount) * 100;\n          const label = bucket === '10' ? '10+' : bucket;\n\n          return (\n            <div key={bucket} className=\"ink-curve-bar-wrap\">\n              <div\n                className=\"ink-curve-bar\"\n                style={{ \n                  height: `${Math.max(height, 2)}%`,\n                  minHeight: count > 0 ? '20px' : '4px',\n                  background: 'linear-gradient(180deg, #7c3aed 0%, #8b5cf6 100%)',\n                }}\n                title={`${label} ink: ${count} cards`}\n              >\n                {count > 0 && (\n                  <span className=\"ink-curve-bar-value\">{count}</span>\n                )}\n              </div>\n              <div className=\"ink-curve-label\">{label}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// ‚îÄ‚îÄ Main Component ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\nexport default function DeckAnalyzerTab({ deckText, setDeckText }) {\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n  const [analysis, setAnalysis] = useState(null);\n  const [opts, setOpts] = useState({ compare: true, top: 32 });\n\n  const lines = useMemo(() => {\n    return String(deckText || '').split(/\\r?\\n/).filter(l => l.trim().length).length;\n  }, [deckText]);\n\n  // Process curveCounts from analysis\n  const curveStats = useMemo(() => {\n    if (!analysis || !analysis.curveCounts) {\n      return null;\n    }\n    return processCurveCounts(analysis.curveCounts);\n  }, [analysis]);\n\n  async function run() {\n    setErr('');\n    setLoading(true);\n\n    try {\n      const res = await fetch(`${API}/api/deck/analyze`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ decklist: deckText, ...opts }),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) throw new Error(data.error || `HTTP ${res.status}`);\n\n      setAnalysis(data);\n    } catch (e) {\n      setErr(e.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"sidebar-layout\">\n      {/* Sidebar */}\n      <div className=\"flex flex-col gap-3\">\n        <div className=\"panel\">\n          <div className=\"panel-header\">\n            <span className=\"panel-title\">\n              <span className=\"icon\">üìã</span> Decklist\n            </span>\n            <span className=\"badge badge-gray\">{lines} linhas</span>\n          </div>\n          <div className=\"panel-body\">\n            <div className=\"controls-row\">\n              <label className=\"checkbox-group\">\n                <input\n                  type=\"checkbox\"\n                  checked={opts.compare}\n                  onChange={e => setOpts(o => ({ ...o, compare: e.target.checked }))}\n                />\n                Comparar meta\n              </label>\n            </div>\n\n            <textarea\n              className=\"decklist-area\"\n              value={deckText}\n              onChange={e => setDeckText(e.target.value)}\n              placeholder=\"4 Nome da Carta&#10;4 Outra Carta&#10;...\"\n            />\n          </div>\n        </div>\n\n        <button\n          className=\"btn btn-primary\"\n          onClick={run}\n          disabled={loading}\n        >\n          {loading ? '‚è≥ Analisando‚Ä¶' : '‚ö° Analisar Deck'}\n        </button>\n\n        {err && <div className=\"err-box\">{err}</div>}\n      </div>\n\n      {/* Results */}\n      <div className=\"flex flex-col gap-4\">\n        {!analysis ? (\n          <div className=\"panel\">\n            <div className=\"empty-state\">\n              <div className=\"empty-icon\">üÉè</div>\n              Cole sua decklist e clique em Analisar\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Summary */}\n            <div className=\"panel\">\n              <div className=\"panel-header\">\n                <span className=\"panel-title\">\n                  <span className=\"icon\">üìä</span> Resumo\n                </span>\n              </div>\n              <div className=\"panel-body\">\n                <div className=\"stat-grid\">\n                  <div className=\"stat-item\">\n                    <div className=\"stat-label\">Arqu√©tipo</div>\n                    <div className=\"stat-value\" style={{ fontSize: 14 }}>\n                      {analysis.archetype || 'Unknown'}\n                    </div>\n                  </div>\n                  <div className=\"stat-item\">\n                    <div className=\"stat-label\">Cartas</div>\n                    <div className=\"stat-value\">{analysis.totalCards}</div>\n                  </div>\n                  <div className=\"stat-item\">\n                    <div className=\"stat-label\">Inkable</div>\n                    <div className=\"stat-value\">{analysis.inkablePct}%</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Curve Stats */}\n            {curveStats && (\n              <>\n                <div className=\"panel\">\n                  <div className=\"panel-header\">\n                    <span className=\"panel-title\">\n                      <span className=\"icon\">üìä</span> Curva de Mana\n                    </span>\n                    <span className=\"badge badge-gray\">M√©dia: {curveStats.avgCost}</span>\n                  </div>\n                  <div className=\"panel-body\">\n                    <InkCurveChart inkCurve={curveStats.inkCurve} />\n                  </div>\n                </div>\n\n                <div className=\"panel\">\n                  <div className=\"panel-header\">\n                    <span className=\"panel-title\">\n                      <span className=\"icon\">üìà</span> Estat√≠sticas\n                    </span>\n                  </div>\n                  <div className=\"panel-body\">\n                    <div className=\"advanced-stats-grid\">\n                      <div className=\"stat-card\">\n                        <div className=\"stat-icon\">üí∞</div>\n                        <div className=\"stat-content\">\n                          <div className=\"stat-value\">{curveStats.avgCost}</div>\n                          <div className=\"stat-label\">Custo M√©dio</div>\n                        </div>\n                      </div>\n                      <div className=\"stat-card\">\n                        <div className=\"stat-icon\">‚ö°</div>\n                        <div className=\"stat-content\">\n                          <div className=\"stat-value\">{curveStats.earlyGamePct}%</div>\n                          <div className=\"stat-label\">Early Game</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/* Deck Comparison */}\n            {analysis && analysis.cards && (\n              <DeckComparison analysis={analysis} />\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}